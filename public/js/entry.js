webpackJsonp([1],[,,,,,,,,,,function(e,a,t){t(1),t(2),t(3),t(4),t(11),t(12),t(13)},function(e,a){},function(e,a){},function(e,a){const t={day:0,cupCost:.5,lemonCost:.5,sugarCost:.25,iceCost:.05,allTimeProfit:150,dailyProfit:0,confidence:3,tomorrowWeatherVariant:3,tomorrowForecast:"",todayWeatherVariant:3,todayForecast:"",sold:0,eventList:[],emotion:document.getElementById("emotionDisplay"),bar:document.getElementById("percentageBar"),play:document.getElementById("play"),cupsVar:document.getElementById("cups"),lemonsVar:document.getElementById("lemons"),sugarVar:document.getElementById("sugar"),iceVar:document.getElementById("ice"),priceVar:document.getElementById("price"),recommendationVar:document.getElementsByClassName("recommendation")[0],recommendationPageVar:document.getElementById("recommendation-page"),explanationPageVar:document.getElementById("explanation-page"),recommendationLabelVar:document.getElementById("recommendation-label"),infoButtonVar:document.getElementById("info-button"),agentVar:document.getElementById("agent"),speechVar:document.getElementById("speech"),cupsRecVar:document.getElementById("cups-rec"),lemonsRecVar:document.getElementById("lemons-rec"),sugarRecVar:document.getElementById("sugar-rec"),iceRecVar:document.getElementById("ice-rec"),priceRecVar:document.getElementById("price-rec"),explanationErrorChanceVar:document.getElementById("explanation-page-error-chance"),strawVar:()=>document.getElementById("straw"),lemonVar:()=>document.getElementById("lemon"),glassTopVar:()=>document.getElementById("glassTop"),glassBottomVar:()=>document.getElementById("glassBottom"),lemonade1:document.getElementById("lemonade1"),lemonade2:document.getElementById("lemonade2"),dayDisplayVar:document.getElementById("dayDisplay"),cupsSoldDisplayVar:document.getElementById("cupsSoldDisplay"),grandTotalDisplayVar:document.getElementById("grandTotalDisplay"),weather:["mdi mdi-weather-lightning-rainy mdi-36px","mdi mdi-weather-cloudy mdi-36px","mdi mdi-weather-partlycloudy mdi-36px","mdi mdi-weather-sunny mdi-36px"],emotionBank:["mdi mdi-emoticon-dead mdi-36px","mdi mdi-emoticon-sad mdi-36px","mdi mdi-emoticon-neutral mdi-36px","mdi mdi-emoticon mdi-36px","mdi mdi-emoticon-excited mdi-36px","mdi mdi-emoticon-cool mdi-36px"],recommendations:[{cups:5,lemons:3,sugar:5,ice:10,price:1.3,explanation_error_chance:4.6},{cups:5,lemons:3,sugar:3,ice:2,price:1.3,explanation_error_chance:5},{cups:8,lemons:3,sugar:5,ice:10,price:1.5,explanation_error_chance:4.1},{cups:3,lemons:2,sugar:1,ice:0,price:.6,explanation_error_chance:4.3},{cups:7,lemons:3,sugar:5,ice:10,price:2,explanation_error_chance:4.2},{cups:9,lemons:4,sugar:5,ice:13,price:1.3,explanation_error_chance:5.1},{cups:10,lemons:6,sugar:7,ice:11,price:1.8,explanation_error_chance:4.7}],recommendationIndex:0,setLabel:e=>{t.recommendationLabelVar.innerText=e},toggleAgent:()=>{"none"===t.agentVar.style.display?(t.agentVar.style.display="block",t.recommendationVar.classList.add("bubble"),t.speechVar.style.display="block"):(t.agentVar.style.display="none",t.recommendationVar.classList.remove("bubble"),t.speechVar.style.display="none")},toggleExplanation:()=>{"none"===t.infoButtonVar.style.display?t.infoButtonVar.style.display="block":t.infoButtonVar.style.display="none"},nextPage:()=>{const e=t.recommendationPageVar.style.display;t.recommendationPageVar.style.display="none"===e?"block":"none",t.explanationPageVar.style.display="none"===e?"none":"block"},changeEvent:e=>{t.eventList.push({type:"onChange",timestamp:(new Date).getTime(),id:e.target.id,value:e.target.value})},addEventListeners:()=>{t.infoButtonVar.addEventListener("click",t.nextPage),t.play.addEventListener("click",t.nextDay),t.cupsVar.addEventListener("change",t.changeEvent),t.lemonsVar.addEventListener("change",t.changeEvent),t.sugarVar.addEventListener("change",t.changeEvent),t.iceVar.addEventListener("change",t.changeEvent),t.priceVar.addEventListener("change",t.changeEvent)},whenLoaded:()=>{t.pourIn(),t.addEventListeners(),t.displayUpdate(),document.getElementById("loader").remove(),document.getElementById("play").className+=" scale-in",window.Materialize.toast("It's a nice day to sell Lemonade!",5e3)},cheat:()=>{t.cheating=!0,window.Materialize.toast("Cheat enabled",4e3),t.day=4e4,t.allTimeProfit=4e4,t.confidence=3,t.tomorrowForecast=t.cheatWeather,t.cupsVar.valueAsNumber=300,t.signsVar.valueAsNumber=0,t.priceVar.valueAsNumber=2.5,t.cheatWeather=2,t.displayUpdate();for(let e=14;e>0;e-=1)t.priceVar.valueAsNumber+=.5,t.nextDay();return"You are cheating!"},toastVar:()=>document.getElementById("toast-container").innerHTML,randomNumber:(e,a)=>Math.floor(Math.random()*(a-e))+e,stringRound:e=>e.toFixed(2),twoDecimals:e=>Math.round(100*e)/100,average:()=>(t.allTimeProfit-t.dailyProfit)/t.day,determineConfidence:()=>(t.allTimeProfit<0?(t.confidence=0,t.clearToast(),window.Materialize.toast("Bankrupt! Better luck next time!",3e4),t.play.removeEventListener("click",t.nextDay),t.play.addEventListener("click",t.newGame),t.pourOut(),t.clean()):0===t.dailyProfit?t.confidence=2:t.dailyProfit<t.average()?t.confidence=1:t.dailyProfit-t.average()<60?t.confidence=Math.round((t.dailyProfit-t.average())/20+2):t.confidence=5,t.confidence),newGame:()=>{t.play.removeEventListener("click",t.newGame),t.day=0,t.tomorrowWeatherVariant=3,t.todayWeatherVariant=3,t.sold=0,t.allTimeProfit=150,t.dailyProfit=0,t.confidence=3,t.cupsVar.valueAsNumber=5,t.priceVar.valueAsNumber=1.5,t.clearToast(),window.Materialize.toast("It's a nice day to sell Lemonade!",5e3),t.displayUpdate(),t.pourIn(),t.play.addEventListener("click",t.nextDay)},cupsSold:()=>{const e=t.lemons/t.cups>.5?1.3:.8,a=t.sugar>t.lemons?1.3:.8,n=.5*(t.ice+t.cups)/t.ice,o=Math.min(1/n,1.3),r=1.2/t.price;return Math.max(Math.ceil(.5*t.cups*e*a*o*r),1)},nextDay:()=>{alert("Simulating game and recalculating recommendations"),window.navigator.vibrate&&window.navigator.vibrate(60),t.cups=t.cupsVar.valueAsNumber,t.lemons=t.lemonsVar.valueAsNumber,t.sugar=t.sugarVar.valueAsNumber,t.ice=t.iceVar.valueAsNumber,t.price=t.priceVar.valueAsNumber,t.eventList.push({type:"nextDay",timestamp:(new Date).getTime(),cups:t.cups,lemons:t.lemons,sugar:t.sugar,ice:t.ice,price:t.price}),t.todayWeatherVariant=t.tomorrowWeatherVariant,t.todayForecast=t.tomorrowForecast,t.expenses=t.twoDecimals(t.cups*t.cupCost+ +t.lemons*t.lemonCost+ +t.sugar*t.sugarCost+ +t.ice*t.iceCost),t.expenses>t.allTimeProfit?(t.clearToast(),t.clean(),window.Materialize.toast(`You can't afford $${t.stringRound(t.expenses)}!`,2e3)):(t.sold=t.cupsSold(),t.sold>0&&t.sold<t.cups?t.bar.style.width=`${t.sold/t.cups*100}%`:0===t.sold?t.bar.style.width=0:(t.sold=t.cups,t.bar.style.width=`${t.sold/t.cups*100}%`),t.profits=t.twoDecimals(t.sold*t.price),t.dailyProfit=t.twoDecimals(t.profits-t.expenses),t.allTimeProfit+=t.dailyProfit,t.allTimeProfit=t.twoDecimals(t.allTimeProfit),window.Materialize.toast(`Revenue: $${t.stringRound(t.profits)} | Expense: $${t.stringRound(t.expenses)}`,6e3),t.determineConfidence(),t.tomorrowWeatherVariant=3,t.cheating&&(t.tomorrowWeatherVariant=t.cheatWeather),t.day+=1,t.displayUpdate()),7==t.day&&(console.log(t.loadEndOfGamePage),t.loadEndOfGamePage())},displayUpdate:()=>{t.values(),t.tomorrowForecast=t.weather[t.tomorrowWeatherVariant],t.dayDisplayVar.innerText=`Day ${t.day}`,t.cupsSoldDisplayVar.innerText=`${t.sold} Cups | $${t.stringRound(t.dailyProfit)} profit`,t.grandTotalDisplayVar.innerText=`$${t.stringRound(t.allTimeProfit)}`,t.updateRecommendations()},updateRecommendations:()=>{t.recommendationIndex>=t.recommendations.length&&(t.recommendationIndex=0);const e=t.recommendations[t.recommendationIndex];t.recommendationIndex+=1,t.explanationErrorChanceVar.innerHTML=e.explanation_error_chance,t.cupsRecVar.innerText=`Cups: ${e.cups}`,t.lemonsRecVar.innerText=`Lemons: ${e.lemons}`,t.sugarRecVar.innerText=`Sugar: ${e.sugar}`,t.iceRecVar.innerText=`Ice: ${e.ice}`,t.priceRecVar.innerText=`Price: $${e.price.toFixed(2)}`},clearToast:()=>{t.toastVar=""},clean:()=>{document.getElementById("range1").children.length>1&&document.getElementById("range1").children[1].remove(),document.getElementById("range2").children.length>1&&document.getElementById("range2").children[1].remove(),document.getElementById("range3").children.length>1&&document.getElementById("range3").children[1].remove()},resetAnimation:()=>{t.strawVar().classList.remove("straw2"),t.lemonVar().classList.remove("lemon2"),document.getElementById("lemonade1").classList.remove("liquid2"),document.getElementById("lemonade2").classList.remove("liquid2");for(let e=1;e<6;e+=1)document.getElementById(`cube${e}`).classList.remove("cubes2");t.strawVar().classList.remove("straw"),t.lemonVar().classList.remove("lemon"),t.glassTopVar().classList.remove("glass"),t.glassBottomVar().classList.remove("glass"),document.getElementById("lemonade1").classList.remove("liquid"),document.getElementById("lemonade2").classList.remove("liquid");for(let e=1;e<6;e+=1)document.getElementById(`cube${e}`).classList.remove("cubes")},pourIn:()=>{t.resetAnimation(),setTimeout(()=>{t.strawVar().classList.add("straw"),t.lemonVar().classList.add("lemon"),document.getElementById("lemonade1").classList.add("liquid"),document.getElementById("lemonade2").classList.add("liquid");for(let e=1;e<6;e+=1)document.getElementById(`cube${e}`).classList.add("cubes")},1)},pourOut:()=>{t.resetAnimation(),setTimeout(()=>{t.strawVar().classList.add("straw2"),t.lemonVar().classList.add("lemon2"),t.glassTopVar().classList.add("glass2"),t.glassBottomVar().classList.add("glass2"),t.lemonade1.classList.add("liquid2"),t.lemonade2.classList.add("liquid2");for(let e=1;e<6;e+=1)document.getElementById(`cube${e}`).classList.add("cubes2")},1)},values:()=>{t.cupsVar.max=15,t.lemonsVar.max=15,t.sugarVar.max=15,t.iceVar.max=15,t.priceVar.max=2.99,t.level=1},level:0,loadEndOfGamePage:null};window.lemonade=t,t.values()}],[10]);
//# sourceMappingURL=entry.js.map?74872e4dcd268ddd7817